{# Login modal for authentication #}
<div id="login-modal" class="login-modal">
    <div class="login-modal-content">
        <h2>Welcome to QueryWeaver</h2>
        <p>Please login to continue</p>
        
        {# Check if any authentication method is enabled #}
        {% if not (email_auth_enabled or google_auth_enabled or github_auth_enabled) %}
        <div class="auth-error-message">
            <p style="color: #D32F2F; margin: 1em 0;">
                <strong>No authentication methods configured.</strong><br>
                Please contact your administrator to set up authentication.
            </p>
        </div>
        {% else %}
        
        {# Show OAuth options only if configured #}
        {% if google_auth_enabled %}
        <a href="{{ url_for('google.login') }}" class="google-login-btn">
            <img src="/static/icons/google.svg"  alt="Google logo" class="google-login-logo">Sign in with Google
        </a>
        {% endif %}
        
        {% if github_auth_enabled %}
        <a href="{{ url_for('github.login') }}" class="github-login-btn">
            <img src="/static/icons/github.svg" alt="GitHub logo" class="github-login-logo">Sign in with GitHub
        </a>
        {% endif %}
        
        {# Show divider only if we have both OAuth and email auth enabled #}
        {% if email_auth_enabled and (google_auth_enabled or github_auth_enabled) %}
        <div class="auth-divider">
            <span>or</span>
        </div>
        {% endif %}
        
        {# Show email auth only if enabled #}
        {% if email_auth_enabled %}
        <form id="email-login-form" class="email-auth-form">
            <input type="email" id="login-email" class="auth-input" placeholder="Email" required>
            <input type="password" id="login-password" class="auth-input" placeholder="••••••••••••••••" required>
            <button type="submit" class="email-login-btn">Sign in with Email</button>
        </form>
        
        <div class="auth-footer">
            <span>Don't have an account? </span>
            <a href="#" id="show-signup-modal" class="signup-link">Sign up</a>
        </div>
        {% endif %}
        
        {% endif %}
    </div>
</div>

{# Signup modal #}
<div id="signup-modal" class="login-modal" style="display: none;">
    <div class="login-modal-content">
        <h2>Create Account</h2>
        <p>Join QueryWeaver today</p>
        
        {# Check if any authentication method is enabled #}
        {% if not (email_auth_enabled or google_auth_enabled or github_auth_enabled) %}
        <div class="auth-error-message">
            <p style="color: #D32F2F; margin: 1em 0;">
                <strong>No authentication methods configured.</strong><br>
                Please contact your administrator to set up authentication.
            </p>
        </div>
        {% else %}
        
        {# Show OAuth options only if configured #}
        {% if google_auth_enabled %}
        <a href="{{ url_for('google.login') }}" class="google-login-btn">
            <img src="{{ url_for('static', path='icons/google.svg') }}"  alt="Google logo" class="google-login-logo">Sign up with Google
        </a>
        {% endif %}
        
        {% if github_auth_enabled %}
        <a href="{{ url_for('github.login') }}" class="github-login-btn" style="margin-top: 0.5em;">
            <img src="{{ url_for('static', path='icons/github.svg') }}" alt="GitHub logo" class="github-login-logo">Sign up with GitHub
        </a>
        {% endif %}
        
        {# Show divider only if we have both OAuth and email auth enabled #}
        {% if email_auth_enabled and (google_auth_enabled or github_auth_enabled) %}
        <div class="auth-divider">
            <span>or</span>
        </div>
        {% endif %}
        
        {# Show email auth only if enabled #}
        {% if email_auth_enabled %}
        <form id="email-signup-form" class="email-auth-form">
            <input type="text" id="signup-firstname" class="auth-input" placeholder="First Name" required>
            <input type="text" id="signup-lastname" class="auth-input" placeholder="Last Name" required>
            <input type="email" id="signup-email" class="auth-input" placeholder="Email" required>
            <input type="password" id="signup-password" class="auth-input" placeholder="••••••••••••••••" required>
            <input type="password" id="signup-repeat-password" class="auth-input" placeholder="Repeat Password" required>
            <button type="submit" class="email-signup-btn">Sign up</button>
        </form>
        
        <div class="auth-footer">
            <span>Already have an account? </span>
            <a href="#" id="show-login-modal" class="signup-link">Sign in</a>
        </div>
        {% endif %}
        
        {% endif %}
    </div>
</div>
